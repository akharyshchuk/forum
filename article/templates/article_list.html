<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>文章列表</title>
    <link rel="stylesheet" href="/static/bootstrap.min.css" />
</head>
<body>
{% extends 'base.html' %}
{% block content %}
    {% for item in blocks %}
        <ol class="breadcrumb">
            <li><a href="/index">主页</a></li>
            <li class="active">{{ item.name }}</li>
        </ol>
        <a href="/article/create/{{ item.id }}" type="button" class="btn btn-primary">发表文章</a>
        <br />
        <br />
    {% endfor %}
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>标题</th>
                <th>作者</th>
                <th>创建时间</th>
                <th>最后更新时间</th>
            </tr>
        </thead>
        <tbody>
            {% for article in articles %}
                <tr>
                    <td><a href="/article/articledetail/{{ article.id }}">{{ article.title }}</a></td>
                    <td>{{ article.content }}</td>
                    <td>{{ article.create_timestamp|date:'Y-m-d P' }}</td>
                    <td>{{ article.last_update_timestamp|date:'Y-m-d P' }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <nav aria-label="Page navigation">
        <ul class="pagination">
            <li ><a hidden="1" href="?page_no=1">首页</a></li>
            <li >
                <a hidden="{{ has_previous }}" href="?page_no={{ previous_link }}" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span></a>
            </li>
            {% for page in page_links %}
{#                <li><a href="?page_no={{ page }}">{{ page }}</a></li>#}
                {% ifequal page current_no %}
                    <li class="active"><a href="?page_no={{ page }}">{{ page }}</a></li>
                {% else %}
                    <li><a href="?page_no={{ page }}">{{ page }}</a></li>
                {% endifequal %}
            {% endfor %}
            <li>
              <a hidden="{{ has_next }}" href="?page_no={{ next_link }}" aria-label="Next">
                <span aria-hidden="false">&raquo;</span></a>
            </li>
            <li><a hidden="{{ has_next }}" href="?page_no={{ page_cnt }}">尾页</a></li>
      </ul>
    </nav>
{% endblock %}
</body>
</html>